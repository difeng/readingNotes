##1.1 内核的任务(Tasks of the Kernel)
内核是介于硬件和软件之间的一个层，其目的是将应用请求传递给硬件，并作为低级驱动器来寻址系统的设备和组件。

* 从应用程序角度看，内核可以认为是一台增强的计算机
* 当若干程序在同一系统中并发运行时，可以将内核视为资源管理器
* 另一种研究内核的视角是将内核视为库，其提供了一组面向系统的命令。

##1.2 实现策略
###(1)微内核
 也就是最基本的功能直接由微内核实现，其他功能委托给独立进程
 独立进程可能实现各种文件系统，内存管理
 优点：动态扩展和运行时切换组件
 缺点:组件间通讯耗费额外的CPU时间
 
###(2)宏内核
传统方法
内核将所有子系统打包(如 内存管理、文件系统、设备驱动程序)到一起，各个函数可以访问内核中的其他部分。
目前linux采用此方式。有革新，系统运行中模块可以插入到内核代码中，也可以移除。

##1.3内核的组成部分
组成图：


unix进程
fork：创建当前进程的副本，父子进程PID不同
高效原因:采用copy on write技术
exec：将一个新程序加载到当前进程的内存中并执行。旧程序将存内存页中刷出，内存替换为新的数据，然后开始执行新的程序。

linux将虚拟地址空间划分为两个部分

* 用户空间(0~TASK_SIZE)
* 内核空间(TASK_SIZE~2^32或2^64)

####1.线程

命名空间

地址空间和特权级别



####模块和热插拔

模块运行于内核空间



